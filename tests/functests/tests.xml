<?xml version="1.0" encoding="ISO-8859-1"?>
<testdefinition version="0.1">

<!-- Test suite, name mandatory - the same as test package name -->
  <!-- Schema: https://projects.maemo.org/docs/testing/xml-definition.html -->
  <suite name="applauncherd-functional-tests" domain="Application framework"> 

    <set name="applauncherd-functional-tests" description="Launcher functional tests" feature="AF Basic Launcher daemon support" requirement="300168">   
      <pre_steps>
        <step>export DISPLAY=:0</step>
        <step>source /tmp/session_bus_address.user</step>
        <step>sleep 20</step>
        <!-- step>other pre steps</step -->
      </pre_steps>


      <case name="launcher1" type="Functional" description="To test if the launcher exists and is executable or not" timeout="120" level="System">
          <step expected_result="0">source /tmp/session_bus_address.user; DISPLAY=:0 `pyversions -d` /usr/share/applauncherd-functional-tests/test-func-launcher.py test_001</step>
      </case>

      <case name="launcher2" type="Functional" description="test_launchable_application_exists " timeout="120" level="System">
          <step expected_result="0">source /tmp/session_bus_address.user; DISPLAY=:0 `pyversions -d` /usr/share/applauncherd-functional-tests/test-func-launcher.py test_002</step>
      </case>

      <case name="launcher3" type="Functional" description="test if len(filename) is less than 20 " timeout="120" level="System">
          <step expected_result="0">source /tmp/session_bus_address.user; DISPLAY=:0 `pyversions -d` /usr/share/applauncherd-functional-tests/test-func-launcher.py test_003</step>
      </case>

      <case name="launcher4" type="Functional" description="To test that process exits after the application is killed" timeout="120" level="System">
          <step expected_result="0">source /tmp/session_bus_address.user; DISPLAY=:0 `pyversions -d` /usr/share/applauncherd-functional-tests/test-func-launcher.py test_004</step>
      </case>

      <case name="launcher5" type="Functional" description="To test that more than one applications are launched by the launcher" timeout="120" level="System">
          <step expected_result="0">source /tmp/session_bus_address.user; DISPLAY=:0 `pyversions -d` /usr/share/applauncherd-functional-tests/test-func-launcher.py test_005</step>
      </case>

      <case name="launcher6" type="Functional" description="To test that only one instance of a application exist" timeout="120" level="System">
          <step expected_result="0">source /tmp/session_bus_address.user; DISPLAY=:0 `pyversions -d` /usr/share/applauncherd-functional-tests/test-func-launcher.py test_006</step>
      </case>

      <!--case name="launcher7" type="Functional" description="To check the pipes used communication between parent and childrens" timeout="120" level="System">
          <step expected_result="0">source /tmp/session_bus_address.user; DISPLAY=:0 `pyversions -d` /usr/share/applauncherd-functional-tests/check_pipes.py</step>
      </case-->

      <case name="launcher8" type="Functional" description="Test that launched applications get correct credentials when they provide Aegis files" timeout="120" level="System">
          <step expected_result="0">source /tmp/session_bus_address.user; DISPLAY=:0 `pyversions -d` /usr/share/applauncherd-functional-tests/test-func-launcher.py test_008</step>
      </case>

      <case name="launcher10" type="Functional" description="Test that launcher and invoker have correct credentials" timeout="120" level="System">
          <step expected_result="0">source /tmp/session_bus_address.user; DISPLAY=:0 `pyversions -d` /usr/share/applauncherd-functional-tests/test-func-launcher.py test_010</step>
      </case>

      <environments>
          <scratchbox>false</scratchbox>
          <hardware>true</hardware>    
      </environments>

      <!--get>
      </get-->
    </set>

    <set name="Prestart-launched" description="To test that prestarted application is launched" feature="AF DUI Booster for Launcher daemon" requirement="300195">   
      <case name="Prestart-launched" type="Functional" description="To test that prestarted application is launched" timeout="120" level="System">
          <step expected_result="0">source /tmp/session_bus_address.user; DISPLAY=:0 /usr/share/applauncherd-functional-tests/ts_prestartapp.rb </step>
      </case>

      <environments>
          <scratchbox>false</scratchbox>
          <hardware>true</hardware>    
      </environments>

      <!--get>
      </get-->
    </set>
  </suite>
</testdefinition>


